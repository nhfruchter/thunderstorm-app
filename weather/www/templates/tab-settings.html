<ion-view view-title="Settings">
	<ion-content>
		<ion-list>			
			<!-- setting: location -->
			<ion-item class="item-divider">Location</ion-item>
			<ion-item class="item-radio">
				<ion-toggle ng-model="settings.geo" toggle-class="toggle-calm" ng-change="save('geo', settings.geo)">
					Use current location
				</ion-toggle>	
			</ion-item>
			<ion-item class="item-dark item-divider" ng-if="!settings.geo">
				Custom Location
			</ion-item>
			<ion-item class="item-dark" ng-if="!settings.geo">
				<div class="row">
					<div class="col col-90" style="padding-left: 0px;">
					<input type="text" id="custom-location"
					ng-focus="toggleSave()"
					ng-autocomplete
					ng-model="autocomplete.text"
					options="autocomplete.options"
					details="autocomplete.details"
					placeholder="Find a city..." 
					/>
					</div>
					<div class="col col-10" id="confirm-location" ng-show="settings.justSaved">
						<i class="icon ion-checkmark"></i>
					</div>
				</div>	
				<button class="button button-block button-light" 
				ng-show="!settings.justSaved"
				ng-show="autocomplete.text != settings.customLocation.name"
				ng-click="save('location')">
					Save Location
				</button>
			</ion-item>

			<!-- setting: units -->
			<ion-item class="item-divider">Units</ion-item>
			<ion-radio ng-model="settings.units" ng-value="'auto'" ng-change="save('units', settings.units)">Auto (&deg;F/&deg;C)</ion-radio>
			<ion-radio ng-model="settings.units" ng-value="'f'" ng-change="save('units', settings.units)">Fahrenheit</ion-radio>
			<ion-radio ng-model="settings.units" ng-value="'c'" ng-change="save('units', settings.units)">Celsius</ion-radio>			
			
			<ion-item class="item-divider item-calm">About &amp; Feedback</ion-item>
			<ion-item href="#/tab/about">App and data attribution</ion-item>
			<ion-item ng-click="systemBrowser('http://nathanielfruchter.com/tstormapp')">Provide feedback</ion-item>
			
		</ion-list>
	</ion-content>
</ion-view>

